<!-- Styles -->
<style>
  #chartdiv {
    width: 100%;
    height: 650px;
  }
  </style>
  
  <!-- Resources -->
  <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/plugins/export/export.js"></script>
  <link rel="stylesheet" href="https://cdn.amcharts.com/lib/4/plugins/export/export.css" type="text/css" media="all" /> 
  <!-- Chart code -->
  <script>
  // Sample CSV data
  const csvData = `Annual Electricity_Quantity (MWh),Annual NaturalGas_Quantity (m3),Annual GHG Emissions (kgCO2e)
  11173,598473,2702323`;

// Parse CSV data
  const parseCsvData = (csv) => {
  const rows = csv.split('\n');
  const headers = rows.shift().split(',');

  return rows.map(row => {
    const rowData = row.split(',');
    return headers.reduce((obj, header, index) => {
      obj[header] = rowData[index];
      return obj;
    }, {});
  });
}

  const parsedData = parseCsvData(csvData);

  am4core.ready(function() {
  
  am4core.useTheme(am4themes_animated);
  
  var chart = am4core.create("chartdiv", am4charts.RadarChart);
  chart.hiddenState.properties.opacity = 0; 
  
  chart.data = [
    {
      category: "Annual Electricity (Mwh)",
      value1: parsedData[0]['Annual Electricity_Quantity (MWh)']
    },
    {
      category: "Natural Gas (m^3)",
      value1: parsedData[0]['Annual NaturalGas_Quantity (m3)']
    },
    {
      category: "GHG (kgCO2e)",
      value1: parsedData[0]['Annual GHG Emissions (kgCO2e)']
    }
  ];
  
  chart.colors.step = 4;
  
  var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());
  categoryAxis.dataFields.category = "category";
  categoryAxis.renderer.labels.template.location = 0.5;
  categoryAxis.renderer.labels.template.horizontalCenter = "right";
  categoryAxis.renderer.grid.template.location = 0;
  categoryAxis.renderer.tooltipLocation = 0.5;
  categoryAxis.renderer.grid.template.strokeOpacity = 0.07;
  categoryAxis.renderer.axisFills.template.disabled = true;
  categoryAxis.interactionsEnabled = false;
  categoryAxis.renderer.minGridDistance = 10;
  
  var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());
  valueAxis.tooltip.disabled = true;
  valueAxis.renderer.labels.template.horizontalCenter = "left";
  valueAxis.min = 0;
  valueAxis.max = 10000000;
  valueAxis.strictMinMax = true;
  valueAxis.renderer.maxLabelPosition = 0.99;
  valueAxis.renderer.minGridDistance = 10;
  valueAxis.renderer.grid.template.strokeOpacity = 0.07;
  valueAxis.renderer.axisFills.template.disabled = true;
  valueAxis.interactionsEnabled = false;
  
  var series1 = chart.series.push(new am4charts.RadarColumnSeries());
  series1.columns.template.tooltipText = "{name}: {valueX.value}";
  series1.name = "Series 1";
  series1.dataFields.categoryY = "category";
  series1.dataFields.valueX = "value1";
  series1.stacked = true;
  
  var series2 = chart.series.push(new am4charts.RadarColumnSeries());
  series2.columns.template.tooltipText = "{name}: {valueX.value}";
  series2.name = "Series 2";
  series2.dataFields.categoryY = "category";
  series2.dataFields.valueX = "value2";
  series2.stacked = true;
  
  var series3 = chart.series.push(new am4charts.RadarColumnSeries());
  series3.columns.template.tooltipText = "{name}: {valueX.value}";
  series3.name = "Series 3";
  series3.dataFields.categoryY = "category";
  series3.dataFields.valueX = "value3";
  series3.stacked = true;
  
  var series4 = chart.series.push(new am4charts.RadarColumnSeries());
  series4.columns.template.tooltipText = "{name}: {valueX.value}";
  series4.name = "Series 4";
  series4.dataFields.categoryY = "category";
  series4.dataFields.valueX = "value4";
  series4.stacked = true;
  
  chart.exporting.menu = new am4core.ExportMenu();
  chart.exporting.menu.align = "left";
  chart.exporting.formatOptions.getKey("pdf").disabled = false;

  });
  </script>

  <div id="chartdiv"></div>
