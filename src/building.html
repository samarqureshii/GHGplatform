
<!DOCTYPE html>

<a href="index.html">
  <img src="toronto-logo.png" alt="city of toronto logo"></a>
  <a href="https://www.toronto.ca/services-payments/water-environment/environmentally-friendly-city-initiatives/transformto/">
    <p style="margin-left: 5;">Building Better Buildings&trade;</p></a>

<link href="building.scss" rel="stylesheet">
<link href="building.css" rel="stylesheet">
<h1>Building Report for <b>100 QUEEN ST W</b>: </h1>

<div class="tabs">
  <input type="radio" name="tabs" id="tabone" checked="checked">
  <label for="tabone">Electricity Quantity for 2022</label>
  <div class="tab">
    <p><b>Annual Electricity Quantity (kWh):</b> "DATA GOES HERE" </p>
    <li>This building ranks at the <b>xxth percentile</b> compared to similar buildings in <b>Downtown Toronto</b></li>
    <li>Definition of this quantity</li>
    <li>Suggestions to improve this quantity</li>
  </div>
  
  <input type="radio" name="tabs" id="tabtwo">
  <label for="tabtwo">Natural Gas Quantity for 2022</label>
  <div class="tab">
      <p><b>Annual Natural Gas Quantity (m^3)</b> "DATA GOES HERE" </p>  
      <li>This building ranks at the <b>xxth percentile</b> compared to similar buildings in <b>Downtown Toronto</b></li>
      <li>Definition of this quantity</li>
      <li>Suggestions to improve this quantity</li>
  </div>
  <input type="radio" name="tabs" id="tabthree">
  <label for="tabthree">GHG Emissions for 2022</label>
  <div class="tab">
    <p><b>Annual GHG Emissions (kgCO2e): </b>"DATA GOES HERE" </p>
    <li>This building ranks at the <b>xxth percentile</b> compared to similar buildings in <b>Downtown Toronto</b></li>
    <li>Definition of this quantity</li>
    <li>Suggestions to improve this quantity</li>
  </div>
</div>

<h1>How <b>100 QUEEN ST W</b> compares against similar buildings: </h1>
<style>
  #chartdiv {
    width: 50%;
    height: 600px;
    padding-top: 10px;
    padding-left: 350px;

  }
  </style>
  
  <!-- Resources -->
  <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/plugins/export/export.js"></script>
  <link rel="stylesheet" href="https://cdn.amcharts.com/lib/4/plugins/export/export.css" type="text/css" media="all" /> 
  <!-- Chart code -->
  <script>
  // Sample CSV data
  const csvData = `Annual Electricity_Quantity (kWh),Annual NaturalGas_Quantity (m3),Annual GHG Emissions (kgCO2e)
  11173000,598473,2702323`;

// Parse CSV data
  const parseCsvData = (csv) => {
  const rows = csv.split('\n');
  const headers = rows.shift().split(',');

  return rows.map(row => {
    const rowData = row.split(',');
    return headers.reduce((obj, header, index) => {
      obj[header] = rowData[index];
      return obj;
    }, {});
  });
}

  const parsedData = parseCsvData(csvData);

  am4core.ready(function() {
  
  am4core.useTheme(am4themes_animated);
  
  var chart = am4core.create("chartdiv", am4charts.RadarChart);
  chart.hiddenState.properties.opacity = 0; 
  
  chart.data = [
    {
      category: "Annual Electricity (kwh)",
      value1: parsedData[0]['Annual Electricity_Quantity (kWh)']/10,
      value2: 1222200,
      value3: 1028912
    },
    {
      category: "Natural Gas (m^3)",
      value1: parsedData[0]['Annual NaturalGas_Quantity (m3)'],
      value2: 607890,
      value3: 702381
    },
    {
      category: "GHG (kgCO2e)",
      value1: parsedData[0]['Annual GHG Emissions (kgCO2e)']/10,
      value2: 3000012/10,
      value3: 2701231/10
    }
  ];
  
  chart.colors.step = 4;
  
  var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());
  categoryAxis.dataFields.category = "category";
  categoryAxis.renderer.labels.template.location = 0.5;
  categoryAxis.renderer.labels.template.horizontalCenter = "right";
  categoryAxis.renderer.grid.template.location = 0;
  categoryAxis.renderer.tooltipLocation = 0.5;
  categoryAxis.renderer.grid.template.strokeOpacity = 0.07;
  categoryAxis.renderer.axisFills.template.disabled = true;
  categoryAxis.interactionsEnabled = false;
  categoryAxis.renderer.minGridDistance = 10;
  
  var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());
  valueAxis.tooltip.disabled = true;
  valueAxis.renderer.labels.template.horizontalCenter = "left";
  valueAxis.min = 0;
  valueAxis.max = 10000000;
  valueAxis.strictMinMax = true;
  valueAxis.renderer.maxLabelPosition = 0.99;
  valueAxis.renderer.minGridDistance = 10;
  valueAxis.renderer.grid.template.strokeOpacity = 0.07;
  valueAxis.renderer.axisFills.template.disabled = true;
  valueAxis.interactionsEnabled = false;
  
  var series1 = chart.series.push(new am4charts.RadarColumnSeries());
  series1.columns.template.tooltipText = "{name}: {valueX.value}";
  series1.name = "100 QUEEN ST W";
  series1.dataFields.categoryY = "category";
  series1.dataFields.valueX = "value1";
  series1.stacked = true;
  
  var series2 = chart.series.push(new am4charts.RadarColumnSeries());
  series2.columns.template.tooltipText = "{name}: {valueX.value}";
  series2.name = "275 MERTON ST";
  series2.dataFields.categoryY = "category";
  series2.dataFields.valueX = "value2";
  series2.stacked = true;
  
  var series3 = chart.series.push(new am4charts.RadarColumnSeries());
  series3.columns.template.tooltipText = "{name}: {valueX.value}";
  series3.name = "255 SPADINA RD";
  series3.dataFields.categoryY = "category";
  series3.dataFields.valueX = "value3";
  series3.stacked = true;
  
  chart.exporting.menu = new am4core.ExportMenu();
  chart.exporting.menu.align = "left";
  chart.exporting.formatOptions.getKey("pdf").disabled = false;

  });
  </script>

  <div id="chartdiv"></div>

  <div class="btn-holder">
    <button class="btn btn-1 hover-filled-opacity">
      <a href = "map.html"><span>back to map</span></a> 
    </button>
  </div>

  <a href="https://github.com/samarqureshii/GHGplatform"><p style="text-align:right">Copyright 2023 Team 146</p></a>
</body>